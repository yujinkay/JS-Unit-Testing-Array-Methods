<script src="../tinytest.js"></script>
<script>
  
function includes(array, element, index) {
    const searchElement = element; 
    const length = array.length;
    let startingIndex = index;   
    // Check to determine the startingIndex
    if (!startingIndex || (startingIndex < 0 && Math.abs(startingIndex) >= length)) {
        startingIndex = 0; 
    // If startingIndex is less than 0, initialize to its value + array length
    } else if (startingIndex < 0) {
      startingIndex = startingIndex + length; 
    // If startingIndex is greater or equal than array length return false
    } else if (startingIndex >= length) {
      return false;
    } 
    // Iterate from the starting index to the last index of array 
    for (let i = startingIndex; i < length; i++) {
        // Return the item which strictly equals the search element 
        if (array[i] === searchElement) return true; 
    }
    // Otherwise, return false
    return false; 
}; 

tests({
  'It should return a boolean value.': function() {
      const includesResult1 = includes([1, 2, 3], 3); 
      const includesResult2 = includes([1, 2, 3], 5); 
      eq(includesResult1, true);
      eq(includesResult2, false); 
  },
  'If no startingIndex, it defaults to 0.': function() {
      const includesResult = includes([1, 2, 3], 1); 
      eq(includesResult, true); 
  },
  'It should start from the provided startingIndex if positive.': function() {
      const includesResult = includes([1, 2, 3], 1, 1); 
      eq(includesResult, false); 
  },
  'It should not search the array if the provided startingIndex is greater or equal to array.length.': function() {
      const includesResult = includes([1, 2, 3], 3, 3); 
      eq(includesResult, false); 
  },
  'It should start from 0th index if the absolute value of startingIndex is greater or equal to array.length.': function() {
      const includesResult1 = includes([1, 2, 3], 1, -3); 
      const includesResult2 = includes([1, 2, 3], 1, -5); 
      eq(includesResult1, true); 
      eq(includesResult2, true);
  },
  'It should start from array.length + startingIndex if the startingIndex is negative.': function() {
      const includesResult = includes([1, 2, 3], 2, -2); 
      eq(includesResult, true); 
  }
});
</script>
